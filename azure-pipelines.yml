# @name: azure-pipelines.yml
# @description: ADO pipeline

#trigger:
#  branches:
#    include:
#      - main
#  paths:
#    include:
#      - changelog.xml

appendCommitMessageToRunName: false
  
name: $(Application.Name)-$(Build.BuildId)-CI

pool:
  name: $(Agent.PoolName)

variables:
- template: variables.yml

stages:
- stage: CI
  jobs:
  
  - job: DB_CI
    displayName: "Database CI"
    steps:

    - task: PowerShell@2
      displayName: "Lint Code"
      inputs:
        targetType: 'inline'
        script: |          
          echo "linting"

    - task: PowerShell@2
      displayName: "Validate Changelog"
      inputs:
        targetType: 'inline'
        script: |          
          echo "validating"    

- stage: Build_Artifact
  jobs:      

  - job: BUILD_DB_ARTIFACT
    displayName: "Build Artifact"
    steps:

    - task: PowerShell@2
      displayName: "Remove Unwanted"
      inputs:
        targetType: 'inline'
        script: |          
          echo "removing"

- stage: Publish_Artifact
  jobs:      

  - job: Publish_DB_ARTIFACT
    displayName: "Publish Artifact"
    steps:

    - task: PowerShell@2
      displayName: "Publish"
      inputs:
        targetType: 'inline'
        script: |          
          echo "validating"   
 
 
          